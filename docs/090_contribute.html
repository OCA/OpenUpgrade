

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contribute &mdash; OpenUpgrade 16.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=42b9a8fd"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Maintain OpenUpgrade Repository" href="100_maintain_repository.html" />
    <link rel="prev" title="SQL Constraint Deleted" href="use_cases/sql_constraint_deleted.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            OpenUpgrade
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="010_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_required_knowledge.html">Required Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="030_coverage_analysis.html">Coverage Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="040_run_migration.html">Running the migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="050_after_migration.html">After migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="060_odoo_migration_manager.html">The Odoo Migration Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="070_migration_files.html">Migration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="080_migration_script_development.html">Migration script development</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-to-contribute-new-migration-scripts">How to contribute new migration scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#community-involvement">Community involvement</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="100_maintain_repository.html">Maintain OpenUpgrade Repository</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenUpgrade</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contribute</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contribute">
<h1>Contribute<a class="headerlink" href="#contribute" title="Link to this heading"></a></h1>
<p>In order to contribute to the OpenUpgrade project, please</p>
<ul class="simple">
<li><p>Post your code contributions as pull requests on
<a class="reference external" href="https://github.com/OCA/OpenUpgrade">https://github.com/OCA/OpenUpgrade</a></p></li>
<li><p>Donate to the Odoo Community Association (<a class="reference external" href="https://github.com/sponsors/OCA">https://github.com/sponsors/OCA</a>)</p></li>
<li><p>Hire any active contributor to this project to help you migrate your
database, and give back any code improvements developed during the project.</p></li>
</ul>
<section id="how-to-contribute-new-migration-scripts">
<h2>How to contribute new migration scripts<a class="headerlink" href="#how-to-contribute-new-migration-scripts" title="Link to this heading"></a></h2>
<p>To Contribute to OpenUpgrade you must make one pull request per module.</p>
<p>For example, if you want to propose the migration script of the <code class="docutils literal notranslate"><span class="pre">account</span></code>
module from version 15.0 to version 16.0:</p>
<blockquote>
<div><ul>
<li><p>Always ensure that there is no work already in progress by a community member.
For that purpose, go the issue named “Migration to version NN.0” on GitHub, where NN is the version for which you want to propose the script.
<a class="reference external" href="https://github.com/OCA/OpenUpgrade/issues?q=is%3Aopen++is%3Aissue+%22Migration+to+version%22+/">here</a>.</p>
<p>Sometimes, the pull request is not yet registered in the issue, so it’s not bad to do a search on the opened pull requests with the name of the module to look for.</p>
</li>
<li><p>Then, ensure that all the dependencies of the module are mark as <code class="docutils literal notranslate"><span class="pre">done</span></code> or
<code class="docutils literal notranslate"><span class="pre">Nothing</span> <span class="pre">to</span> <span class="pre">do</span></code> in OpenUpgrade for that version.
For that purpose, refer to <a class="reference internal" href="030_coverage_analysis.html"><span class="doc">Coverage Analysis</span></a>.
In our example, check the <code class="docutils literal notranslate"><span class="pre">depends</span></code> key of the <a class="reference external" href="https://github.com/odoo/odoo/blob/16.0/addons/account/__manifest__.py#L18">manifest</a> of the <code class="docutils literal notranslate"><span class="pre">account</span></code> module
If some dependencies are missing, you should start by migrating these modules.</p></li>
</ul>
</div></blockquote>
<p><strong>Note</strong></p>
<p>It’s not strictly necessary to make contributions in the order of dependency,
but you may face errors that are not related to your contribution, if you don’t follow this order.
For example, the sale_stock migration script may fail, if the stock migration script has not been run upstream.</p>
<blockquote>
<div><ul class="simple">
<li><p>As other OCA contribution, create a new branch, from an up to date OCA branch:</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span><span class="m">16</span>.0-mig-account
</pre></div>
</div>
<ul class="simple">
<li><p>Make a copy of the analysis file with the suffix <code class="docutils literal notranslate"><span class="pre">_work</span></code>.</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>./openupgrade_scripts/scripts/account/16.0.1.2/
cp<span class="w"> </span>upgrade_analysis.txt<span class="w"> </span>upgrade_analysis_work.txt
</pre></div>
</div>
<ul class="simple">
<li><p>Explain the changes to do in the <code class="docutils literal notranslate"><span class="pre">upgrade_analysis_work.txt</span></code>.
For each line, add a prefix, and explain your analysis:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">NOTHING</span> <span class="pre">TO</span> <span class="pre">DO</span></code>, and why it’s nothing to do</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DONE</span></code>: pre-migration/post-migration: indicating the what and maybe the why.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TODO</span></code>: This shouldn’t be usually done.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<p><strong>Note:</strong>
You can reorder lines and group them together for including all of them in a “logical” block for putting only one comment.
Examples: all the noupdate=0 new and del ir* records, or the NEW and DEL lines for a field that is renamed.</p>
<blockquote>
<div><ul class="simple">
<li><p>Write <code class="docutils literal notranslate"><span class="pre">pre-migration.py</span></code> and / or <code class="docutils literal notranslate"><span class="pre">post-migration.py</span></code> scripts in the same folder.</p></li>
<li><p>Comment / uncomment lines in <code class="docutils literal notranslate"><span class="pre">noupdate_changes.xml</span></code>.</p></li>
</ul>
</div></blockquote>
<p>(Read more in <a class="reference internal" href="080_migration_script_development.html"><span class="doc">Migration script development</span></a>)</p>
<blockquote>
<div><ul class="simple">
<li><p>Finally, update the coverage file in <code class="docutils literal notranslate"><span class="pre">docsource/modulesXX-YY.rst</span></code>, and mark the
module as <code class="docutils literal notranslate"><span class="pre">done</span></code>, <code class="docutils literal notranslate"><span class="pre">Nothing</span> <span class="pre">to</span> <span class="pre">do</span></code>, etc.</p></li>
</ul>
</div></blockquote>
<p>(Read more in <a class="reference internal" href="coverage_analysis/coverage_legend.html"><span class="doc">coverage legend detail.</span></a>)</p>
<blockquote>
<div><ul class="simple">
<li><p>Finally, commit and push your changes.</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>.
git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s2">&quot;[OU-ADD] account&quot;</span>
git<span class="w"> </span>push<span class="w"> </span>MY_REMOTE<span class="w"> </span><span class="m">16</span>.0-mig-account
</pre></div>
</div>
<p><strong>Note:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>For a fix of an existing migration scripts, use <code class="docutils literal notranslate"><span class="pre">[OU-FIX]</span></code></p></li>
<li><p>For an improvement of an existing migration scripts, use <code class="docutils literal notranslate"><span class="pre">[OU-IMP]</span></code></p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Propose your changes to the community for review, opening a Pull Request on github.</p></li>
</ul>
</div></blockquote>
</section>
<section id="community-involvement">
<h2>Community involvement<a class="headerlink" href="#community-involvement" title="Link to this heading"></a></h2>
<p>Writing migration scripts for Odoo is a lot of work, that can not be
accomplished by a single party.  We need your help.</p>
<p>If you are at all interested in discussing strategic, functional or
technical issues, please post an issue on the GitHub project:
<a class="reference external" href="https://github.com/OCA/OpenUpgrade">https://github.com/OCA/OpenUpgrade</a>.</p>
<p>If you are a developer, give the OpenUpgrade software a go and give us
feedback.  If you use the software, provide the project with your issue
reports and any migration scripts that you develop.  Help to improve the
developer tools and any existing or newly proposed migration script
contributed by others.</p>
<p>If you are an Odoo consulting company, use the tools to help your
customers migrate to a newer major release of Odoo and contribute
the scripts that you developed in the process.</p>
<p>If you are are using Odoo professionally within your organisation,
consider hiring a Odoo consulting company to migrate your configuration
using the technology provided by this project, and insist that the
resulting migration scripts be contributed back.</p>
<p>If you are an independent, knowledgeable user of Odoo and the OpenUpgrade
project covers the modules that you have in use, try and use the software
to upgrade a copy of your database and give us feedback.</p>
<p>Thank you!</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="use_cases/sql_constraint_deleted.html" class="btn btn-neutral float-left" title="SQL Constraint Deleted" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="100_maintain_repository.html" class="btn btn-neutral float-right" title="Maintain OpenUpgrade Repository" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2021, Odoo Community Association (OCA) / The OpenUpgrade developers.
      <span class="lastupdated">Last updated on Oct 20, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>